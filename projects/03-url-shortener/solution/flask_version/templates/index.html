{% extends "base.html" %}

{% block title %}URL Shortener - Shorten Your Links{% endblock %}

{% block content %}
<div class="section">
    <h2>Shorten a Long URL</h2>
    
    <!-- TODO: Create form that submits to /shorten -->
    <form action="/shorten" method="POST">
        <div class="form-group">
            <label for="url">Enter your long URL</label>
            <!-- TODO: Add input field with name="original_url" -->
            <input type="url" id="url" name="original_url" 
                   placeholder="https://example.com/very/long/url" 
                   required>
        </div>
        
        <button type="submit">Shorten URL</button>
    </form>
</div>

{% if shortened_url %}
<div class="section result">
    <h2>âœ… URL Shortened!</h2>
    
    <div class="shortened-url">
        <label>Your shortened URL:</label>
        <div class="url-display">
            <input type="text" id="shortened-url" value="{{ shortened_url }}" readonly>
            <button onclick="copyToClipboard()">Copy</button>
        </div>
    </div>
    
    <p class="tip">Share this link anywhere! It will redirect to your original URL.</p>
</div>

<script>
function copyToClipboard() {
    // TODO: Implement copy to clipboard functionality
    const urlInput = document.getElementById('shortened-url');
    urlInput.select();
    document.execCommand('copy');
    alert('Copied to clipboard!');
}
</script>
{% endif %}

<div class="section info">
    <h3>How it works</h3>
    <ol>
        <li>Enter your long URL in the form above</li>
        <li>Click "Shorten URL" to get a short link</li>
        <li>Copy and share your short link</li>
        <li>Track clicks on the <a href="/stats">Statistics</a> page</li>
    </ol>
</div>
{% endblock %}
